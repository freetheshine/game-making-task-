namespace SpriteKind {
    export const COIN = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (JACOB.vy == 0) {
        JACOB.vy = -160
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`portal`, function (sprite, location) {
    current_Level += 1
    startLevel()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile3`, function (sprite, location) {
    game.over(false, effects.melt)
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Player, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    mySprite.destroy()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.COIN, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
})
sprites.onDestroyed(SpriteKind.Enemy, function (sprite) {
    mySprite = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . f f f f f . . . . . . . . 
        . f f 5 f 5 f 5 f . . . . . . . 
        f f 5 5 f 5 f 5 5 f . . . . . . 
        f 5 5 5 f 5 f 5 5 f f . f f f f 
        f f 5 f f 5 f 5 5 5 f f f f . . 
        f 5 5 5 f 5 f 5 5 5 f f f f . . 
        f f 5 5 f 5 f 5 5 f f . . . . . 
        . f f f f f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    tiles.placeOnTile(mySprite, value)
    mySprite.follow(JACOB, 22)
})
function startLevel () {
    if (current_Level == 1) {
        tiles.setTilemap(tilemap`level4`)
    } else {
        tiles.setTilemap(tilemap`level 2`)
    }
    JACOB.ay += 350
    info.setLife(5)
    scene.cameraFollowSprite(JACOB)
    tiles.placeOnRandomTile(JACOB, assets.tile`myTile6`)
    for (let value of tiles.getTilesByType(assets.tile`myTile4`)) {
        COIN = sprites.create(img`
            . . . f f f f f f f . . . . . . 
            . . f 5 5 5 5 5 5 5 f . . . . . 
            . f 5 5 4 4 4 4 4 4 5 f . . . . 
            f 5 5 5 5 5 5 5 5 5 5 5 f . . . 
            f 5 5 5 5 5 5 5 5 5 5 5 f . . . 
            f 5 4 5 5 5 5 5 5 5 5 5 f . . . 
            f 5 5 5 5 5 5 5 5 4 5 5 f . . . 
            f 5 5 5 4 4 5 5 5 4 5 5 f . . . 
            f 5 5 5 5 5 5 5 5 4 5 5 f . . . 
            f 5 5 5 4 4 5 5 5 5 5 5 f . . . 
            . f 5 5 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 5 5 5 5 5 f . . . . . 
            . . . f f f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.COIN)
        tiles.placeOnTile(COIN, value)
    }
    mySprite = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . f f f f f f f f . . . . . . 
        . f 5 5 f 5 5 f 5 f f . . . . . 
        f f 5 5 f 5 5 f 5 5 f . . . . . 
        f 5 5 5 f 5 5 f 5 5 f f f f f f 
        f f 5 f f 5 5 f 5 5 5 f f f f f 
        f 5 5 5 f 5 5 f 5 5 f f . . . . 
        f 5 5 5 f 5 5 f f f f . . . . . 
        f f f f f f f f f . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    tiles.placeOnTile(mySprite, value)
    mySprite.follow(JACOB, 30)
}
let COIN: Sprite = null
let value: tiles.Location = null
let mySprite: Sprite = null
let JACOB: Sprite = null
let current_Level = 0
scene.setBackgroundColor(9)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ...........................................................................................................................................9.9999...............
    ........................................................................................999...............................................999...................
    ....................................99.................................................999................................................999999................
    ...................................9.9................................................9999.9.............................................9999999................
    ...................................99.9............................................9999999999............................................9999999................
    ..................................999999..........................................9.9999.99.............................................99999999................
    .................................99.9999.........................................9999999.99............................................9999999999...............
    .................................999999999......................................9.999999.99............................................99999999999..............
    ................................9999999999.....................................9..999999999...........................................99.9999999.9..............
    ...............................99999999999.....................................9.9999999999...........................................999999999.999.............
    ..............................999999999999....................................9.9.9999999999.........................................99.999999999999............
    .............................99999.9999999....................................9.999999999999........................................9999999999.99999............
    .............................99999.99999999..................................9.9.99999.99999.......................................99999999999.999999...........
    ............................999999999999999.................................9.9999999999999.9.....................................999999999999.999999...........
    ...........................9999999999999999.................................9999999.9999999.9....................................9999999.9999999999999..........
    ...........................9.999999999999999................................99.999999999999.9..................................99999999999999999999999..........
    ..........................999999999999999999.................................99999999.9999.9.9................................9999999999999.99999999999.........
    ........................9.999999999999999999................................9999999.99999999.9...............................9.999999999999999999999999.........
    ........................99999999999999999999.............................9999999999999999999.9.............................99.9999999999999999999999999.........
    .......................99999999999999999999.9............................9999999999999999999.9............................9.99999999999999999999999999.9........
    .......................9999999999999999999999............................999999999999999999999..........................999.9999999999.999999999999999.9........
    .......................9999999999999999999999...........................999999999999999999999.9........................9.99999999999999999999999999999.9........
    ......................99999.99999999999999999.........................9999.999999999999999999.9.......................9.999999999999999999999999999999.9........
    ......................99999999999999999999999........................999999999999999999999999.9......................9.9999999999999999999999999999999.9........
    .....................9.9999999999999999999999......................99.99999999999999999999999.9.....................99.99999999999999.999999999999999999........
    ...................99999999999999999999999999......................99999999999999999999999999.9.....................999999999999999999999999999999999999........
    ...................9.999999999999999999999999.....................99999.99999999999999999999999....................9999999999999999999999999999999999999........
    ..................99.999999999999999999999.99....................999999999999999999999999999999...................9999999999.999999999999999999999.99999........
    ..................9999999999999999999999999999...................999999999.99999999999999999999...................99999999999999999.99999999999999999999........
    .................99999999999999999999999999999..................9.99999999999999999999999999999..................999999999999999999999999999999999999999........
    .................99999999999999999999999999999.................99.99999999999999999999999999999.................9.99999999999999999999999999999999999999........
    ................999999999999999999999999999999................9.9999999999999999999999999999999.................9.9999999.99999999999999999999999999999.........
    ................999999999999999999999999.99999...............999999.999999999999999999999999999................99999999999999999999999999999999999999999........
    ...............9999999999999999999999999.99999...............9.99999999999999999999999999999999................999.9999999999999.99999999999999999999999........
    ...............99999999999.99999999999999999999.............999999.9999999999999999999999999999................99.99999999999999999999999999999999999999........
    ..............999999999999999999999999999999999.............99999999999999999999999999999999999...............999999999999999999999999999999999999999999........
    ..............9.9999999999999999999999999999999............999999999999999999999999999999999999...............999999999999999999999999999999999999999999........
    .............9999999.99999999999999999999999999...........9999999999999999999999999999999999999...............999999999999999999999999999999999999999999........
    .............999999999999999.999999999999999999...........9999999999999999999999999999999999999..............99999999999999999999.99999999999999999999999.......
    ............9999999999999999.999999999999999999...........999999999999999999999999999999999999...............999999999.9999999999999999999999999999999999.......
    ..........999999999.9999999999999999999999999999.........9999999999999999999999999999999999999..............9.9999999999999999999999999999999999999999999.......
    ..........99999999999999999999999999999999999999........99999999999999999999999999999999999999..............999999999999999999999999999999999999999999999.......
    .........999999999.99999999999999999999999999999.......99999999.999999999999999999999999999999.............9999999999999999999999999999999999999999999999.......
    .........999999999999999999999999999999999999999.......99999.99999999999999.99.999999999999999.............99999999999999999999999999999999999999999999999......
    .........9999999.9999999999999999999999999999999......9.999999.999999999999999999999999.9999999...........9999999999999999999.9999999999999999999999999999......
    ........9.99999999.9.999999999999999999999999999......9999999999999.99999.999999999999999999999...........999999999999999999999999999999999999.99999999999......
    .......9999.99999999999.9999.9999999999999999999.....999999999999999999999999999999999999999999...........9999999999.99999999999999999999999999999999999.9......
    .........9999999999999.9999999999999999999999999.....99999999999999999999999999999999999999999.9.........999999999999999999999999999999999999.9999999999999.....
    .........99999999999999.9.99999999999999.99999999....99999999999999999999999999999999999999999.9.........999999.9999.99999999.99999999999999999999999999999.....
    .........9999999999999.999999999999999999999999999.9.999999999..9.9.99999999999999999999999999..9.......9999999999999999999999999999999999999999999999999999....
    .......9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999.9......999999999.9999999999999999999999999999999999999999999....
    ..........999..9999999999999999999999999999999999999.9999999999999999999999999999999999999999999.9.....999999999999999999999999999999999999999999999999999999...
    .............99999999999999999999999999999999999999999999999999999999999999999999999999999999999..9...9999999999999999999999999999999999999999999999999999999...
    ..................99999999999999.9999999999999999999999999999.9999999..99999999999999999999999999999..9999999.99999999999999999999999999999999999999999999999...
    ..............................999999999999.9999999999999999999999999999999999999999999999999999999999999999999999..999999999999999999999999999999999999999999...
    ....................................999999..9999999999..9.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999..
    ..........................................99999999999...99..99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999..
    ........................................................9...999999..999999999999999999999999999999999999..99999999999999999.999999999999.99999999999999.999999..
    ..........................................................................9999999.9999999999999999999..999999999999999999999...999999999999999999999999999999...
    ..................................................................................999..99999999999.............999999999999999.99999999999999999999.99999999.9..
    ..................................................................................99999..9999999.................9999......9999999999999999999999999.999999999..
    ................................................................................................................................9999999999999...9......9999999..
    .......................................................................................................................................................9.99.99..
    .......................................................................................................................................................9.99..9..
    ........................................................................................................................................................999.....
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
current_Level = 1
JACOB = sprites.create(assets.image`JACOB`, SpriteKind.Player)
controller.moveSprite(JACOB, 89, 0)
startLevel()
current_Level = 1
